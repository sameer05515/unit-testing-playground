const fs = require('fs');
const path = require('path');

/**
 * Traverses a directory and logs folders containing a 'node_modules' folder.
 * @param {string} dir - The directory to traverse.
 */
function findNodeModulesFolders(dir) {
    const entries = fs.readdirSync(dir, { withFileTypes: true });

    let containsNodeModules = false;

    for (const entry of entries) {
        const fullPath = path.join(dir, entry.name);

        if (entry.isDirectory()) {
            if (entry.name === 'node_modules') {
                containsNodeModules = true;
            }
        }
    }

    if (containsNodeModules) {
        console.log(dir);
    }

    for (const entry of entries) {
        const fullPath = path.join(dir, entry.name);

        if (entry.isDirectory() && entry.name !== 'node_modules') {
            findNodeModulesFolders(fullPath);
        }
    }
}

// Replace './start-directory' with the directory you want to traverse
const startDirectory = 'D:\\GIT';
findNodeModulesFolders(startDirectory);
